# 1.SQL 逻辑处理顺序

## 1.1 执行步骤（逻辑顺序）
| 顺序 | 关键字 | 说明 |
|------|--------|------|
| 1 | FROM | 确定数据源（表或视图） |
| 2 | ON | 如果是 JOIN，先处理连接条件 |
| 3 | JOIN | 执行表连接（内连接/外连接等） |
| 4 | WHERE | 行级过滤（不能用聚合函数） |
| 5 | GROUP BY | 按指定字段分组 |
| 6 | WITH CUBE / ROLLUP | 分组统计扩展（可选） |
| 7 | HAVING | 分组后的过滤（可用聚合函数） |
| 8 | SELECT | 选择要返回的列（可包含表达式、函数） |
| 9 | DISTINCT | 去重 |
| 10 | ORDER BY | 排序 |
| 11 | LIMIT / OFFSET | 限制返回的行数（分页） |

---

## 1.2 实际写 SQL 的顺序

| 步骤 | 写法 |
|------|------------------------------|
| 1 | SELECT 列/表达式/聚合函数 |
| 2 | FROM 表1 |
| 3 | JOIN 表2 ON 连接条件 |
| 4 | WHERE 行过滤条件 |
| 5 | GROUP BY 分组字段 |
| 6 | HAVING 分组过滤条件 |
| 7 | ORDER BY 排序字段 |
| 8 | LIMIT 偏移量, 行数 |

## 1.3 SQL 表达式中的操作符优先级
在一个 SELECT 语句的表达式中，不同运算符有执行优先级（高优先级的先执行，括号可改变优先级）：

| 优先级（高→低） | 操作符 | 说明 |
|----------------|--------|------|
| 1 | `()` | 括号（最高优先级） |
| 2 | `!`、`NOT` | 逻辑非 |
| 3 | `*`、`/`、`%` | 乘法、除法、取余 |
| 4 | `+`、`-` | 加法、减法 |
| 5 | `=`、`>`、`<`、`>=`、`<=`、`<>`、`!=`、`<=>` | 比较运算符 |
| 6 | `BETWEEN`、`IN`、`LIKE`、`IS NULL` | 范围/模式匹配/空值判断 |
| 7 | `AND` | 逻辑与 |
| 8 | `OR` | 逻辑或（最低优先级） |

---

# 2.SQL 中 `NULL`、`''` 和 `0` 的区别

## 2.1 对比表

| 项目           | `NULL`                                                      | `''`（空字符串）               | `0`（数字零）                |
| ------------ | ----------------------------------------------------------- | ------------------------ | ----------------------- |
| **含义**       | 未知值 / 无值（Nothing）                                           | 长度为 0 的字符串（Empty String） | 数值零                     |
| **数据类型**     | 可出现在任何类型（数值、字符、日期等）                                         | 字符类型（`CHAR`、`VARCHAR` 等） | 数值类型（`INT`、`DECIMAL` 等） |
| **存储** | 占用存储空间，表示值缺失                                                | 存在字段中，但长度为 0             | 存在字段中，值为 0              |
| **比较行为**     | 任何与 `NULL` 比较的结果都是 `UNKNOWN`（除 `IS NULL` / `IS NOT NULL` 外） | 可直接比较，如 `col = ''`       | 可直接比较，如 `col = 0`       |
| **判断方法**     | `IS NULL` / `IS NOT NULL`                                   | `= ''`                   | `= 0`                   |
| **聚合函数**   | `COUNT(col)` 不统计 `NULL` 行                                   | 会统计空字符串                  | 会统计 0                   |
| **排序时位置**    | 在 MySQL 中，默认 `NULL` 在最小值之前                                  | 按空字符串排序（通常在最前）           | 按数值排序                   |
| **示例**       | `WHERE col IS NULL`                                         | `WHERE col = ''`         | `WHERE col = 0`         |

---

## 2.2 注意事项

2.2.1 **`NULL` ≠ `''` ≠ `0`**

   * `NULL` 表示**没有值**
   * `''` 表示**有值**，只是值为空字符串
   * `0` 表示**有值**，且数值为零

2.2.2 在 MySQL 中，如果使用非严格模式（`sql_mode` 未开启严格检查），插入数据时可能会把空字符串或 0 自动转换为 `NULL`（取决于字段类型）。

2.2.3 比较 `NULL` 不能用 `=`，必须用：

   ```sql
   col IS NULL;
   col IS NOT NULL;
   ```

2.2.4 在字符串比较中，`NULL` 不会等于 `''`：

   ```sql
   SELECT NULL = '';  -- 返回 NULL（未知）
   SELECT '' = '';    -- 返回 1（真）
   ```

---

## 2.3 快速记忆口诀

* **`NULL`** → 没值，完全空
* **`''`** → 有值，但值是空字符串
* **`0`** → 有值，值是零

---


